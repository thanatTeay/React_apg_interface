{"ast":null,"code":"import React,{useContext}from'react';import{Redirect}from'react-router-dom';import{AuthContext}from'./auth';import firebaseConfig from'../config';import{TwitchEmbed,TwitchChat,TwitchClip,TwitchPlayer}from'react-twitch-embed';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MainP2=function MainP2(){var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;var db=firebaseConfig.firestore();var countMessage=0;var tmi=require('tmi.js');var client=new tmi.Client({options:{debug:true,messagesLogLevel:\"info\"},connection:{reconnect:true,secure:true},identity:{username:'ligoligo12',password:'oauth:2adeuj6p5ui8ujtxmqwkf55sk5janf'},channels:['ligoligo12']});client.connect().catch(console.error);var handleP1=function handleP1(){db.collection('leaderboard').doc(currentUser.uid).get().then(function(data){countMessage=data.data().countSendMessage;//console.log(data.data().countSendMessage)\n//alert(countMessage)\n}).then(function(){client.say(\"#ligoligo12\",\"@\".concat(currentUser.displayName,\", p1-\"));countMessage++;db.collection('leaderboard').doc(currentUser.uid).update({countSendMessage:countMessage});});};var handleP2=function handleP2(){db.collection('leaderboard').doc(currentUser.uid).get().then(function(data){countMessage=data.data().countSendMessage;//console.log(data.data().countSendMessage)\n//alert(countMessage)\n}).then(function(){client.say(\"#ligoligo12\",\"@\".concat(currentUser.displayName,\", p2+\"));countMessage++;db.collection('leaderboard').doc(currentUser.uid).update({countSendMessage:countMessage});});};if(!currentUser){return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"thead-dark\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-8 mx-auto text-center mb-0 mt-3 \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-2\",children:\"Display Name:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"col-md-4\",id:\"display-name\",children:currentUser.displayName}),/*#__PURE__*/_jsx(\"label\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-info\",onClick:function onClick(){return firebaseConfig.auth().signOut();},children:\"Sign out\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"containerIF2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-sm-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12 mx-auto text-start mb-0 \",children:/*#__PURE__*/_jsx(\"div\",{className:\"containerIF\",children:/*#__PURE__*/_jsx(TwitchEmbed,{channel:\"ligoligo12\",id:\"ligoligo12\",theme:\"dark\",width:\"100%\",height:\"100%\",onVideoPause:function onVideoPause(){return console.log(':(');}})})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"containerIF3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row row-cols-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:handleP2,children:\"P2+\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:handleP1,children:\"P1-\"})]})}),/*#__PURE__*/_jsxs(\"div\",{class:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8 mx-auto text-center mb-0 mt-3 \",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Leaderboard\"})})}),/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-12 mx-auto text-center mb-0 \",children:/*#__PURE__*/_jsx(\"div\",{class:\"responsive-iframe\",children:/*#__PURE__*/_jsx(\"iframe\",{src:\"https://docs.google.com/spreadsheets/d/e/2PACX-1vSkQOavXwJjbSuUDdtspqjEwmbgCLc2pC7EromgysGZrmX0BJmm1x_6mRRqj71RJnMcj_n4CBld9McT/pubhtml?gid=349047516&single=true&widget=true&headers=false\",width:\"75%\",height:\"300px\"})})})})]})]});};export default MainP2;","map":{"version":3,"sources":["D:/Hobbies/apg-interface/src/components/MainP2.js"],"names":["React","useContext","Redirect","AuthContext","firebaseConfig","TwitchEmbed","TwitchChat","TwitchClip","TwitchPlayer","MainP2","currentUser","db","firestore","countMessage","tmi","require","client","Client","options","debug","messagesLogLevel","connection","reconnect","secure","identity","username","password","channels","connect","catch","console","error","handleP1","collection","doc","uid","get","then","data","countSendMessage","say","displayName","update","handleP2","auth","signOut","log"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { AuthContext } from './auth'\r\nimport firebaseConfig from '../config'\r\nimport { TwitchEmbed, TwitchChat, TwitchClip, TwitchPlayer } from 'react-twitch-embed';\r\n\r\nconst MainP2 = () => {\r\n    const { currentUser } = useContext(AuthContext);\r\n    const db = firebaseConfig.firestore();\r\n    let countMessage = 0;\r\n    const tmi = require('tmi.js');\r\n    const client = new tmi.Client({\r\n        options: { debug: true, messagesLogLevel: \"info\" },\r\n        connection: {\r\n            reconnect: true,\r\n            secure: true\r\n        },\r\n        identity: {\r\n            username: 'ligoligo12',\r\n            password: 'oauth:2adeuj6p5ui8ujtxmqwkf55sk5janf'\r\n        },\r\n        channels: ['ligoligo12']\r\n    });\r\n    client.connect().catch(console.error);\r\n\r\n\r\n    const handleP1 = () => {\r\n        db.collection('leaderboard').doc(currentUser.uid).get().then(data => {\r\n            countMessage = data.data().countSendMessage\r\n            //console.log(data.data().countSendMessage)\r\n            //alert(countMessage)\r\n        }).then(() => {\r\n            client.say(`#ligoligo12`, `@${currentUser.displayName}, p1-`);\r\n            countMessage++\r\n            db.collection('leaderboard').doc(currentUser.uid).update({\r\n\r\n                countSendMessage: countMessage\r\n\r\n            })\r\n        })\r\n\r\n\r\n    }\r\n    const handleP2 = () => {\r\n        db.collection('leaderboard').doc(currentUser.uid).get().then(data => {\r\n            countMessage = data.data().countSendMessage\r\n            //console.log(data.data().countSendMessage)\r\n            //alert(countMessage)\r\n        }).then(() => {\r\n            client.say(`#ligoligo12`, `@${currentUser.displayName}, p2+`);\r\n            countMessage++\r\n            db.collection('leaderboard').doc(currentUser.uid).update({\r\n\r\n                countSendMessage: countMessage\r\n\r\n            })\r\n        })\r\n\r\n\r\n        \r\n    }\r\n\r\n    if (!currentUser) {\r\n        return <Redirect to=\"/login\" />;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"thead-dark\">\r\n                <div className=\"row row-cols-2\">\r\n                    <div className=\"col-lg-8 mx-auto text-center mb-0 mt-3 \">\r\n                        <label className=\"col-md-2\">Display Name:</label>\r\n                        <span className=\"col-md-4\" id=\"display-name\">{currentUser.displayName}</span>\r\n                        <label className=\"col-md-2\"><button className=\"btn btn-outline-info\" onClick={() => firebaseConfig.auth().signOut()} >Sign out</button></label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n            <div className=\"containerIF2\">\r\n                <div className=\"row row-cols-sm-1\">\r\n                    <div className=\"col-lg-12 mx-auto text-start mb-0 \">\r\n                        <div className=\"containerIF\">\r\n\r\n                            <TwitchEmbed\r\n                                channel=\"ligoligo12\"\r\n                                id=\"ligoligo12\"\r\n                                theme=\"dark\"\r\n                                width=\"100%\"\r\n                                height=\"100%\"\r\n                                onVideoPause={() => console.log(':(')}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"containerIF3\">\r\n                <div className=\"row row-cols-2\">\r\n                    <button className=\"btn btn-success\" onClick={handleP2}>P2+</button>\r\n                    <button className=\"btn btn-danger\" onClick={handleP1}>P1-</button>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div class=\"container\">\r\n                <div class=\"row\">\r\n                    <div className=\"col-lg-8 mx-auto text-center mb-0 mt-3 \">\r\n                        <h1>Leaderboard</h1>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div class=\"row\">\r\n                    <div class=\"col-lg-12 mx-auto text-center mb-0 \">\r\n                        <div class=\"responsive-iframe\">\r\n                            <iframe src=\"https://docs.google.com/spreadsheets/d/e/2PACX-1vSkQOavXwJjbSuUDdtspqjEwmbgCLc2pC7EromgysGZrmX0BJmm1x_6mRRqj71RJnMcj_n4CBld9McT/pubhtml?gid=349047516&amp;single=true&amp;widget=true&amp;headers=false\" width=\"75%\" height=\"300px\" ></iframe>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n\r\n\r\n\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default MainP2;"]},"metadata":{},"sourceType":"module"}