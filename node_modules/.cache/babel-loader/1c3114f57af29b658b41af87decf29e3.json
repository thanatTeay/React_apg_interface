{"ast":null,"code":"var _jsxFileName = \"D:\\\\Hobbies\\\\apg-interface\\\\src\\\\components\\\\IdleTimer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useContext } from 'react';\nimport IdelTimer from 'react-idle-timer';\nimport firebaseConfig from '../config';\nimport { AuthContext } from './auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction IdleTimerContainer() {\n  _s();\n\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const db = firebaseConfig.firestore();\n  const idleTimerRef = useRef(null);\n\n  const onIdle = () => {\n    db.collection('user').doc(currentUser.uid).update({\n      isOnline: false,\n      isP1team: false,\n      isP2team: false\n    }).then(() => {\n      firebaseConfig.auth().signOut();\n    }).catch(error => {\n      var errorMessage = error.message;\n      alert(errorMessage, 'Error!'); //alert(errorMessage);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(IdelTimer, {\n      ref: idleTimerRef,\n      timeout: 300 * 1000,\n      onIdle: onIdle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n}\n\n_s(IdleTimerContainer, \"9a52bCO4dVPxUCMFGIEp9T492k0=\");\n\n_c = IdleTimerContainer;\nexport default IdleTimerContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"IdleTimerContainer\");","map":{"version":3,"sources":["D:/Hobbies/apg-interface/src/components/IdleTimer.js"],"names":["React","useRef","useContext","IdelTimer","firebaseConfig","AuthContext","IdleTimerContainer","currentUser","db","firestore","idleTimerRef","onIdle","collection","doc","uid","update","isOnline","isP1team","isP2team","then","auth","signOut","catch","error","errorMessage","message","alert"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,MAAf,EAAsBC,UAAtB,QAAuC,OAAvC;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,OAAOC,cAAP,MAA2B,WAA3B;AACA,SAASC,WAAT,QAA4B,QAA5B;;;AAGA,SAASC,kBAAT,GAA6B;AAAA;;AACzB,QAAM;AAAEC,IAAAA;AAAF,MAAkBL,UAAU,CAACG,WAAD,CAAlC;AACA,QAAMG,EAAE,GAAGJ,cAAc,CAACK,SAAf,EAAX;AACA,QAAMC,YAAY,GAAGT,MAAM,CAAC,IAAD,CAA3B;;AACA,QAAMU,MAAM,GAAG,MAAK;AAChBH,IAAAA,EAAE,CAACI,UAAH,CAAc,MAAd,EAAsBC,GAAtB,CAA0BN,WAAW,CAACO,GAAtC,EAA2CC,MAA3C,CAAkD;AAE9CC,MAAAA,QAAQ,EAAE,KAFoC;AAG9CC,MAAAA,QAAQ,EAAE,KAHoC;AAI9CC,MAAAA,QAAQ,EAAE;AAJoC,KAAlD,EAMGC,IANH,CAMQ,MAAM;AACVf,MAAAA,cAAc,CAACgB,IAAf,GAAsBC,OAAtB;AACH,KARD,EAQGC,KARH,CAQSC,KAAK,IAAI;AACd,UAAIC,YAAY,GAAGD,KAAK,CAACE,OAAzB;AACAC,MAAAA,KAAK,CAACF,YAAD,EAAe,QAAf,CAAL,CAFc,CAGd;AACH,KAZD;AAaH,GAdD;;AAeA,sBACI;AAAA,2BACI,QAAC,SAAD;AAAW,MAAA,GAAG,EAAEd,YAAhB;AAA8B,MAAA,OAAO,EAAI,MAAM,IAA/C;AAAqD,MAAA,MAAM,EAAEC;AAA7D;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH;;GAxBQL,kB;;KAAAA,kB;AA0BT,eAAeA,kBAAf","sourcesContent":["import React, {useRef,useContext} from 'react'\r\nimport IdelTimer from 'react-idle-timer'\r\nimport firebaseConfig from '../config'\r\nimport { AuthContext } from './auth'\r\n\r\n\r\nfunction IdleTimerContainer(){\r\n    const { currentUser } = useContext(AuthContext);\r\n    const db = firebaseConfig.firestore();\r\n    const idleTimerRef = useRef(null)\r\n    const onIdle = () =>{\r\n        db.collection('user').doc(currentUser.uid).update({\r\n\r\n            isOnline: false,\r\n            isP1team: false,\r\n            isP2team: false,\r\n\r\n        }).then(() => {\r\n            firebaseConfig.auth().signOut()\r\n        }).catch(error => {\r\n            var errorMessage = error.message;\r\n            alert(errorMessage, 'Error!');\r\n            //alert(errorMessage);\r\n        })\r\n    }\r\n    return(\r\n        <div>\r\n            <IdelTimer ref={idleTimerRef} timeout = {300 * 1000} onIdle={onIdle}></IdelTimer>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IdleTimerContainer"]},"metadata":{},"sourceType":"module"}