{"ast":null,"code":"import _regeneratorRuntime from\"D:/Hobbies/apg-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Hobbies/apg-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Hobbies/apg-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect,Component}from'react';import{AuthContext}from'./auth';import firebaseConfig from'../config';import{CustomDialog}from'react-st-modal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Nav=function Nav(){var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;var db=firebaseConfig.firestore();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),blogs=_useState2[0],setBlogs=_useState2[1];function getUserData(){db.collection('leaderboard').orderBy(\"countSendMessage\",\"desc\").onSnapshot(function(querySnapshot){var items=[];querySnapshot.forEach(function(doc){items.push(doc.data());});setBlogs(items);});}useEffect(function(){getUserData();},[]);function CustomDialogContent(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12 mx-auto text-center mb-0 \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"responsive-iframe\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row row-cols-2\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Score\"})]}),blogs.map(function(blog){return/*#__PURE__*/_jsxs(\"div\",{className:\"row row-cols-2\",children:[/*#__PURE__*/_jsx(\"p\",{children:blog.displayName}),/*#__PURE__*/_jsx(\"p\",{children:blog.countSendMessage})]},blog.displayName);})]})})})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"thead-dark\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-12 mx-auto text-center mb-0 mt-3 \",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-2\",children:\"Display Name:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"col-md-4\",id:\"display-name\",children:currentUser.displayName}),/*#__PURE__*/_jsx(\"label\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-info\",onClick:function onClick(){return firebaseConfig.auth().signOut();},children:\"Sign out\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-info\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return CustomDialog(/*#__PURE__*/_jsx(CustomDialogContent,{}),{title:'Leaderboard',showCloseIcon:true});case 2:result=_context.sent;case 3:case\"end\":return _context.stop();}}},_callee);})),children:\"Leaderboard\"})]})})});};export default Nav;","map":{"version":3,"sources":["D:/Hobbies/apg-interface/src/components/Nav.js"],"names":["React","useContext","useState","useEffect","Component","AuthContext","firebaseConfig","CustomDialog","Nav","currentUser","db","firestore","blogs","setBlogs","getUserData","collection","orderBy","onSnapshot","querySnapshot","items","forEach","doc","push","data","CustomDialogContent","map","blog","displayName","countSendMessage","auth","signOut","title","showCloseIcon","result"],"mappings":"0aAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,CAAsCC,SAAtC,CAAiDC,SAAjD,KAAkE,OAAlE,CACA,OAASC,WAAT,KAA4B,QAA5B,CACA,MAAOC,CAAAA,cAAP,KAA2B,WAA3B,CACA,OAASC,YAAT,KAA6B,gBAA7B,C,wFAIA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CACd,gBAAwBP,UAAU,CAACI,WAAD,CAAlC,CAAQI,WAAR,aAAQA,WAAR,CACA,GAAMC,CAAAA,EAAE,CAAGJ,cAAc,CAACK,SAAf,EAAX,CACA,cAA0BT,QAAQ,CAAC,EAAD,CAAlC,wCAAOU,KAAP,eAAcC,QAAd,eACA,QAASC,CAAAA,WAAT,EAAsB,CAClBJ,EAAE,CAACK,UAAH,CAAc,aAAd,EAA6BC,OAA7B,CAAqC,kBAArC,CAAyD,MAAzD,EAAiEC,UAAjE,CAA4E,SAAAC,aAAa,CAAI,CACzF,GAAMC,CAAAA,KAAK,CAAG,EAAd,CACAD,aAAa,CAACE,OAAd,CAAuB,SAAAC,GAAG,CAAI,CAC1BF,KAAK,CAACG,IAAN,CAAWD,GAAG,CAACE,IAAJ,EAAX,EACH,CAFD,EAGAV,QAAQ,CAACM,KAAD,CAAR,CACH,CAND,EAOH,CAEDhB,SAAS,CAAC,UAAM,CACZW,WAAW,GACd,CAFQ,CAEN,EAFM,CAAT,CAIA,QAASU,CAAAA,mBAAT,EAA+B,CAC3B,mBACI,kCACI,YAAK,SAAS,CAAC,WAAf,uBACI,YAAK,SAAS,CAAC,KAAf,uBACI,YAAK,SAAS,CAAC,qCAAf,uBACI,aAAK,SAAS,CAAC,mBAAf,wBACA,aAAK,SAAS,CAAC,gBAAf,wBACA,2BADA,cAEA,4BAFA,GADA,CAMQZ,KAAK,CAACa,GAAN,CAAU,SAAAC,IAAI,CAAI,CACd,mBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,mBAAIA,IAAI,CAACC,WAAT,EADJ,cAEI,mBAAID,IAAI,CAACE,gBAAT,EAFJ,GAAqCF,IAAI,CAACC,WAA1C,CADJ,CAMH,CAPD,CANR,GADJ,EADJ,EADJ,EADJ,EADJ,CA0BH,CAID,mBACI,YAAK,SAAS,CAAC,YAAf,uBACI,YAAK,SAAS,CAAC,gBAAf,uBACI,aAAK,SAAS,CAAC,0CAAf,wBACI,cAAO,SAAS,CAAC,UAAjB,2BADJ,cAEI,aAAM,SAAS,CAAC,UAAhB,CAA2B,EAAE,CAAC,cAA9B,UAA8ClB,WAAW,CAACkB,WAA1D,EAFJ,cAGI,cAAO,SAAS,CAAC,UAAjB,uBAA4B,eAAQ,SAAS,CAAC,sBAAlB,CAAyC,OAAO,CAAE,yBAAMrB,CAAAA,cAAc,CAACuB,IAAf,GAAsBC,OAAtB,EAAN,EAAlD,sBAA5B,EAHJ,cAII,eAAQ,SAAS,CAAC,sBAAlB,CACI,OAAO,sEAAE,oKACgBvB,CAAAA,YAAY,cAAC,KAAC,mBAAD,IAAD,CAA0B,CACvDwB,KAAK,CAAE,aADgD,CAEvDC,aAAa,CAAE,IAFwC,CAA1B,CAD5B,QACCC,MADD,qEAAF,EADX,yBAJJ,GADJ,EADJ,EADJ,CAyBH,CA1ED,CA4EA,cAAezB,CAAAA,GAAf","sourcesContent":["import React, { useContext, useState, useEffect, Component } from 'react'\r\nimport { AuthContext } from './auth'\r\nimport firebaseConfig from '../config'\r\nimport { CustomDialog } from 'react-st-modal'\r\n\r\n\r\n\r\nconst Nav = () => {\r\n    const { currentUser } = useContext(AuthContext);\r\n    const db = firebaseConfig.firestore();\r\n    const [blogs, setBlogs] = useState([])\r\n    function getUserData(){\r\n        db.collection('leaderboard').orderBy(\"countSendMessage\", \"desc\").onSnapshot(querySnapshot => {\r\n            const items = [];\r\n            querySnapshot.forEach( doc => {\r\n                items.push(doc.data())\r\n            });\r\n            setBlogs(items);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getUserData();\r\n    }, [])\r\n\r\n    function CustomDialogContent() {\r\n        return (\r\n            <div>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-12 mx-auto text-center mb-0 \">\r\n                            <div className=\"responsive-iframe\">\r\n                            <div className=\"row row-cols-2\">\r\n                            <p >Name</p>\r\n                            <p >Score</p>\r\n                            </div>\r\n                                {\r\n                                    blogs.map(blog => {\r\n                                        return (\r\n                                            <div className=\"row row-cols-2\" key={blog.displayName}> \r\n                                                <p>{blog.displayName}</p>\r\n                                                <p>{blog.countSendMessage}</p>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n    \r\n\r\n\r\n    return (\r\n        <div className=\"thead-dark\">\r\n            <div className=\"row row-cols-2\">\r\n                <div className=\"col-lg-12 mx-auto text-center mb-0 mt-3 \">\r\n                    <label className=\"col-md-2\">Display Name:</label>\r\n                    <span className=\"col-md-4\" id=\"display-name\">{currentUser.displayName}</span>\r\n                    <label className=\"col-md-2\"><button className=\"btn btn-outline-info\" onClick={() => firebaseConfig.auth().signOut()} >Sign out</button></label>\r\n                    <button className=\"btn btn-outline-info\"\r\n                        onClick={async () => {\r\n                            const result = await CustomDialog(<CustomDialogContent />, {\r\n                                title: 'Leaderboard',\r\n                                showCloseIcon: true,\r\n                            });\r\n                        }}\r\n                    >\r\n                        Leaderboard\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    \r\n\r\n\r\n}\r\n\r\nexport default Nav;"]},"metadata":{},"sourceType":"module"}